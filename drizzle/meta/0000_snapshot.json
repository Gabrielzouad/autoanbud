{
  "id": "52dfa593-6a1c-4daf-a350-39d287fdd1fd",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.buyer_requests": {
      "name": "buyer_requests",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "buyer_id": {
          "name": "buyer_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "request_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'open'"
        },
        "title": {
          "name": "title",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "make": {
          "name": "make",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "model": {
          "name": "model",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "generation": {
          "name": "generation",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "year_from": {
          "name": "year_from",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "year_to": {
          "name": "year_to",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "max_km": {
          "name": "max_km",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "min_km": {
          "name": "min_km",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "condition": {
          "name": "condition",
          "type": "car_condition",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "fuel_type": {
          "name": "fuel_type",
          "type": "fuel_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "gearbox": {
          "name": "gearbox",
          "type": "gearbox_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "body_type": {
          "name": "body_type",
          "type": "body_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "budget_min": {
          "name": "budget_min",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "budget_max": {
          "name": "budget_max",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'NOK'"
        },
        "location_city": {
          "name": "location_city",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "location_postal_code": {
          "name": "location_postal_code",
          "type": "varchar(16)",
          "primaryKey": false,
          "notNull": false
        },
        "search_radius_km": {
          "name": "search_radius_km",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "wants_trade_in": {
          "name": "wants_trade_in",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "financing_needed": {
          "name": "financing_needed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "accepted_offer_id": {
          "name": "accepted_offer_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "meta": {
          "name": "meta",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "buyer_requests_buyer_id_user_profiles_user_id_fk": {
          "name": "buyer_requests_buyer_id_user_profiles_user_id_fk",
          "tableFrom": "buyer_requests",
          "tableTo": "user_profiles",
          "columnsFrom": [
            "buyer_id"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.dealer_members": {
      "name": "dealer_members",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "dealership_id": {
          "name": "dealership_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true,
          "default": "'manager'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "dealer_members_dealership_id_dealerships_id_fk": {
          "name": "dealer_members_dealership_id_dealerships_id_fk",
          "tableFrom": "dealer_members",
          "tableTo": "dealerships",
          "columnsFrom": [
            "dealership_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "dealer_members_user_id_user_profiles_user_id_fk": {
          "name": "dealer_members_user_id_user_profiles_user_id_fk",
          "tableFrom": "dealer_members",
          "tableTo": "user_profiles",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.dealerships": {
      "name": "dealerships",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "owner_id": {
          "name": "owner_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "org_number": {
          "name": "org_number",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": true
        },
        "address": {
          "name": "address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "city": {
          "name": "city",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "postal_code": {
          "name": "postal_code",
          "type": "varchar(16)",
          "primaryKey": false,
          "notNull": false
        },
        "country": {
          "name": "country",
          "type": "varchar(2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'NO'"
        },
        "lat": {
          "name": "lat",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "lng": {
          "name": "lng",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "makes": {
          "name": "makes",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "''"
        },
        "verified": {
          "name": "verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "dealerships_owner_id_user_profiles_user_id_fk": {
          "name": "dealerships_owner_id_user_profiles_user_id_fk",
          "tableFrom": "dealerships",
          "tableTo": "user_profiles",
          "columnsFrom": [
            "owner_id"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.offers": {
      "name": "offers",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "request_id": {
          "name": "request_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "dealership_id": {
          "name": "dealership_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "dealer_user_id": {
          "name": "dealer_user_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "offer_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'submitted'"
        },
        "car_reg_nr": {
          "name": "car_reg_nr",
          "type": "varchar(32)",
          "primaryKey": false,
          "notNull": false
        },
        "vin": {
          "name": "vin",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "car_make": {
          "name": "car_make",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "car_model": {
          "name": "car_model",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "car_variant": {
          "name": "car_variant",
          "type": "varchar(150)",
          "primaryKey": false,
          "notNull": false
        },
        "car_year": {
          "name": "car_year",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "car_km": {
          "name": "car_km",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "car_condition": {
          "name": "car_condition",
          "type": "car_condition",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "fuel_type": {
          "name": "fuel_type",
          "type": "fuel_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "gearbox": {
          "name": "gearbox",
          "type": "gearbox_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "body_type": {
          "name": "body_type",
          "type": "body_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "color_exterior": {
          "name": "color_exterior",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "color_interior": {
          "name": "color_interior",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "price_total": {
          "name": "price_total",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "price_old": {
          "name": "price_old",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'NOK'"
        },
        "delivery_time_estimate": {
          "name": "delivery_time_estimate",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "warranty_summary": {
          "name": "warranty_summary",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "financing_possible": {
          "name": "financing_possible",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false
        },
        "financing_example": {
          "name": "financing_example",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "location_city": {
          "name": "location_city",
          "type": "varchar(120)",
          "primaryKey": false,
          "notNull": false
        },
        "location_postal_code": {
          "name": "location_postal_code",
          "type": "varchar(16)",
          "primaryKey": false,
          "notNull": false
        },
        "distance_km": {
          "name": "distance_km",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "short_message_to_buyer": {
          "name": "short_message_to_buyer",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "internal_notes": {
          "name": "internal_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "image_urls": {
          "name": "image_urls",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "offers_request_id_buyer_requests_id_fk": {
          "name": "offers_request_id_buyer_requests_id_fk",
          "tableFrom": "offers",
          "tableTo": "buyer_requests",
          "columnsFrom": [
            "request_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "offers_dealership_id_dealerships_id_fk": {
          "name": "offers_dealership_id_dealerships_id_fk",
          "tableFrom": "offers",
          "tableTo": "dealerships",
          "columnsFrom": [
            "dealership_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "offers_dealer_user_id_user_profiles_user_id_fk": {
          "name": "offers_dealer_user_id_user_profiles_user_id_fk",
          "tableFrom": "offers",
          "tableTo": "user_profiles",
          "columnsFrom": [
            "dealer_user_id"
          ],
          "columnsTo": [
            "user_id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_profiles": {
      "name": "user_profiles",
      "schema": "",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "user_role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'buyer'"
        },
        "phone": {
          "name": "phone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "user_profiles_user_id_users_sync_id_fk": {
          "name": "user_profiles_user_id_users_sync_id_fk",
          "tableFrom": "user_profiles",
          "tableTo": "users_sync",
          "schemaTo": "neon_auth",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.body_type": {
      "name": "body_type",
      "schema": "public",
      "values": [
        "suv",
        "sedan",
        "wagon",
        "hatchback",
        "coupe",
        "convertible",
        "van",
        "pickup",
        "other"
      ]
    },
    "public.car_condition": {
      "name": "car_condition",
      "schema": "public",
      "values": [
        "new",
        "used",
        "demo"
      ]
    },
    "public.fuel_type": {
      "name": "fuel_type",
      "schema": "public",
      "values": [
        "petrol",
        "diesel",
        "hybrid",
        "ev",
        "other"
      ]
    },
    "public.gearbox_type": {
      "name": "gearbox_type",
      "schema": "public",
      "values": [
        "automatic",
        "manual",
        "any"
      ]
    },
    "public.offer_status": {
      "name": "offer_status",
      "schema": "public",
      "values": [
        "submitted",
        "withdrawn",
        "accepted",
        "rejected",
        "expired"
      ]
    },
    "public.request_status": {
      "name": "request_status",
      "schema": "public",
      "values": [
        "open",
        "under_review",
        "accepted",
        "expired",
        "cancelled"
      ]
    },
    "public.user_role": {
      "name": "user_role",
      "schema": "public",
      "values": [
        "buyer",
        "dealer",
        "admin"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}